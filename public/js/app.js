function submit_form(e){event.preventDefault(),$("#"+e).submit()}function calculator_calculate(){event.preventDefault(),$("#equalsButton").click()}function click_element(e,a=""){""===a?$("#"+e).click():$("#"+e)[a].click()}function open_prod_cat(e){var a=window.location.pathname,t=window.location.origin;open_url("/stock"==a?t+"/stock-type/"+e:t+"/sale-stock-type/"+e)}function open_url(e){window.open(e,"_self")}function confirm_modal(e){event.preventDefault(),$("#"+e).modal({ show: true })}function calculate_balance(e){event.preventDefault();var a=$("#display").val();""==a&&(a=0);var t=parseFloat(a)-parseFloat(e);$("#calculator-info").removeClass(),0==t?($("#calculator-info").html("Amount exact!"),$("#calculator-info").addClass("text-success")):t<0?($("#calculator-info").html("Under payment. <strong>Ksh. "+Math.abs(t).toLocaleString()+" </strong> will be debited to customer account!"),$("#calculator-info").addClass("text-danger")):t>0&&($("#calculator-info").html("BALANCE: <strong>Ksh. "+t.toLocaleString()+" </strong>"),$("#calculator-info").addClass("text-success")),$("#saleBalance").val(t),a>e?$("#amountReceived").val(e):$("#amountReceived").val(t),$("#save-payment-btn").attr("disabled",!1),$(".save-payment-btn").attr("disabled",!1)}function calc_table_sum(e){var a=0;$("#"+e+" tr").each(function(){var e=$(this).data("id"),t=parseFloat($("#cost-prod-"+e).val());qty=parseFloat($("#qty-prod-"+e).val()),a+=t*qty}),$("#total-cost").val(a),$(".total-cost").html("<strong>Total:</strong> "+a.toLocaleString("en-GB",{style:"currency",currency:"KES",minimumFractionDigits:2}))}function set_payment_option(e){$("#pos-calculator").addClass("hidden"),$("#cheque_no").addClass("hidden"),$("#transacion_code").addClass("hidden"),$("#user_acc").addClass("hidden"),$("#amountReceivedField").removeClass("hidden"),$("#save-payment-btn").attr("disabled",!1),$(".save-payment-btn").attr("disabled",!1),1==e?($("#pos-calculator").removeClass("hidden"),$("#save-payment-btn").attr("disabled",!0),$(".save-payment-btn").attr("disabled",!0),$("#amountReceivedField").addClass("hidden")):2==e?$("#cheque_no").removeClass("hidden"):3==e?$("#transacion_code").removeClass("hidden"):4==e&&($("#user_acc").removeClass("hidden"),$("#amountReceivedField").addClass("hidden"))}function confirm_update(e){event.preventDefault(),confirm("Are you sure you want to proceed?")&&$("#"+e).submit()}function update_prod(e,a,t){$.post("/update-product",{id:e,field:t,value:a,_token:$('meta[name="csrf-token"]').attr("content")},function(e,a){})}function share_modal(e){event.preventDefault(),$("#"+e).modal()}function share_doc(e,a,t){event.preventDefault();var n=$("#share-email").val();""!=n?testEmail(n)?($("#"+e).modal("hide"),$.post("/share-doc",{id:a,email:n,docType:t,_token:$('meta[name="csrf-token"]').attr("content")},function(e,a){})):alert("Invalid email!"):alert("Please enter email first!"),alert("Document has been queued for sending. It might take sometime to reach the recipient.")}$(document).ajaxStart(function(){$(".profile-img-loading-preview ").removeClass("hidden").removeClass("d-none")}),$(document).ajaxStop(function(){$(".profile-img-loading-preview ").addClass("hidden").addClass("d-none")}),$(function(){$(".material-card > .mc-btn-action").click(function(){var e=$(this).parent(".material-card"),a=$(this).children("i");a.addClass("fa-spin-fast"),e.hasClass("mc-active")?(e.removeClass("mc-active"),window.setTimeout(function(){a.removeClass("fa-arrow-left").removeClass("fa-spin-fast").addClass("fa-bars")},800)):(e.addClass("mc-active"),window.setTimeout(function(){a.removeClass("fa-bars").removeClass("fa-spin-fast").addClass("fa-arrow-left")},800))})}),$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}});
